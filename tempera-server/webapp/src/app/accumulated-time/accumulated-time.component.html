<p-table #table [value]="accumulatedTimes" (onFilter)="calculateTotalTime()">
  <ng-template pTemplate="header">
    <tr>
      <th id="start">Start</th>
      <th id="end">End</th>
      <th id="group">Group</th>
      <th id="project">Project</th>
    </tr>
    <tr>
      <th id="startTimeFilter">
        <p-columnFilter type="date" field="startTime" placeholder="Search"></p-columnFilter>
      </th>
      <th id="endTimeFilter">
        <p-columnFilter type="date" field="endTime" placeholder="Search"></p-columnFilter>
      <th id="groupFilter">
        <p-columnFilter field="groupId" [showMenu]="true" [showClearButton]="false">
          <ng-template pTemplate="filter" let-value let-filter="filterCallback">
            <p-dropdown [options]="availableGroups" [showClear]="true" (onChange)="filter($event.value?.id)"
                        optionLabel="name" appendTo="body" placeholder="Select one"></p-dropdown>
          </ng-template>
        </p-columnFilter>
      </th>
      <th id="projectFilter">
        <p-columnFilter field="projectId" [showMenu]="true" [showClearButton]="false">
          <ng-template pTemplate="filter" let-value let-filter="filterCallback">
            <p-dropdown [options]="availableProjects" [showClear]="true" (onChange)="filter($event.value?.projectId)"
                        optionLabel="name" appendTo="body" placeholder="Select one"></p-dropdown>
          </ng-template>
        </p-columnFilter>
      </th>
    </tr>
  </ng-template>
</p-table>
<div class="card my-4">
  <canvas id="MyChart">{{chart}}</canvas>
</div>
<div class="card text-lg text-center">
  {{ "The total worked time with the current filters is " + this.totalTime.hours + " hours and " + this.totalTime.minutes + " minutes." }}
</div>
